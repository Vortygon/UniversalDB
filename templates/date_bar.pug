if table == "productionready" || table == "defects"
	hr
	div#date_bar
		div Период отчетности:
		div от: 
		input#date_from(type="datetime-local")
		div до:
		input#date_to(type="datetime-local")
		button#report Составить отчет

	script.
		function toIsoString(date) {
			var tzo = -date.getTimezoneOffset(),
					dif = tzo >= 0 ? '+' : '-',
					pad = function(num) {
							return (num < 10 ? '0' : '') + num;
					};

			return date.getFullYear() +
					'-' + pad(date.getMonth() + 1) +
					'-' + pad(date.getDate()) +
					'T' + pad(date.getHours()) +
					':' + pad(date.getMinutes()) +
					':' + pad(date.getSeconds()) +
					dif + pad(Math.floor(Math.abs(tzo) / 60)) +
					':' + pad(Math.abs(tzo) % 60);
		}

		report = document.getElementById('report')
		date_from_picker = document.getElementById('date_from')
		date_to_picker = document.getElementById('date_to')

		dt = new Date();
		date_from_picker.value = toIsoString(dt).slice(0, 11)+'00:00'
		date_to_picker.value = toIsoString(dt).slice(0, 11)+'23:59'	

		report.addEventListener('click', () => {
			date_from = document.getElementById('date_from').value
			date_to = document.getElementById('date_to').value
			htmx.ajax('GET', `/sql/#{table}?from=${date_from}&to=${date_to}`, '#sql_table')
			htmx.ajax('GET', `/sql/#{table}Combined?from=${date_from}&to=${date_to}`, '#sql_table2')
		})